
<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://akrisanov.com/js/theme.min.js" integrity="sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1"></script>
<link rel="stylesheet"
  href="https://akrisanov.com/abridge.css?h=bf750cd1b26e8052b393" />
<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="base" content="https://akrisanov.com" />

<meta name="content-language" content="en" />
<meta name="HandheldFriendly" content="True" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="theme-color" content="#333333" />
<meta name="msapplication-TileColor" content="#333333" />
<link rel="manifest" href="https://akrisanov.com/manifest.min.json" />
<link rel="mask-icon" href="https://akrisanov.com/safari-pinned-tab.svg"
  color="#ff9900" />
<link rel="icon" type="image/svg+xml"
  href="https://akrisanov.com/favicon.png" />
<link rel="apple-touch-icon" sizes="180x180"
  href="https://akrisanov.com/apple-touch-icon.png" />
<link rel="preload" as="style" class="preStyle" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;700&display=swap" crossorigin="anonymous" />
<link rel="preload" as="style" class="preStyle" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous" />
<link rel="alternate" type="application/atom+xml" title="Andrey Krisanov Atom Feed"
  href="https://akrisanov.com/atom.xml" />
<link rel="alternate" type="application/rss+xml" title="Andrey Krisanov RSS Feed"
  href="https://akrisanov.com/rss.xml" /> <meta name="robots" content="index, follow" />
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<title>Choosing Apache Kafka For A New Project – A Questionnaire | Andrey Krisanov</title>
<meta name="author" content="Andrey Krisanov" />
<meta name="copyright" content="Andrey Krisanov" />
<meta name="description" content="You&#x27;re starting a new project with Apache Kafka. Before setting up broker parameters and writing producers and consumers, what questions should you ask yourself? To ensure a smooth start, I have prepared the following checklist&#x2F;questionnaire." />
<link rel="canonical" href="https://akrisanov.com/choosing-kafka/" />
<link rel="alternate" hreflang="en" href="https://akrisanov.com/choosing-kafka/" />
<link rel="alternate" hreflang="x-default" href="https://akrisanov.com/choosing-kafka/" />
<meta name="keywords" content="kafka, system-design, AI infrastructure, inference engineering, LLM serving, distributed systems, scalable backend, performance optimization, reliability, observability, MLOps, DevOps, GPU inference, model serving, vLLM, Triton Inference Server, Ray Serve, .NET, C#, Python, Kubernetes, Docker, Terraform, Ansible, OpenTelemetry, Grafana, CI&#x2F;CD, cloud infrastructure, platform engineering" />
<meta name="google-site-verification" content="Your Google Site verification code." />
<meta name="msvalidate.01" content="Your Bing Site verification code." />
<meta property="og:url" content="https://akrisanov.com/choosing-kafka/" />
<meta name="twitter:url" content="https://akrisanov.com/choosing-kafka/" />
<meta property="og:description" content="You&#x27;re starting a new project with Apache Kafka. Before setting up broker parameters and writing producers and consumers, what questions should you ask yourself? To ensure a smooth start, I have prepared the following checklist&#x2F;questionnaire." />
<meta name="twitter:description" content="You&#x27;re starting a new project with Apache Kafka. Before setting up broker parameters and writing producers and consumers, what questions should you ask yourself? To ensure a smooth start, I have prepared the following checklist&#x2F;questionnaire." />
<meta property="og:title" content="Choosing Apache Kafka For A New Project – A Questionnaire | Andrey Krisanov" />
<meta name="twitter:title" content="Choosing Apache Kafka For A New Project – A Questionnaire | Andrey Krisanov" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://akrisanov.com/images/photo.png" />
<meta property="og:image" content="https://akrisanov.com/images/photo.png" />
<meta property="og:site_name" content="Andrey Krisanov" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="og:updated_time" content="2023-08-29" />
<meta name="twitter:site" content="@_akrisanov" />
<meta name="twitter:creator" content="@_akrisanov" /><script type="application/ld+json">
{
	"@context": "https://schema.org",
	"@type": "Article",
	"headline": "Choosing Apache Kafka For A New Project – A Questionnaire",
	"url": "https://akrisanov.com/choosing-kafka/",
	"inLanguage": "en",
	"author": {
		"@type": "Person",
		"name": "Andrey Krisanov"
	},
	"image": "https://akrisanov.com/images/photo.png",
	"datePublished": "2023-08-29T00:00:00+00:00",
	"dateModified": "2023-08-29T00:00:00+00:00"}
</script>
<script defer
  src="https://akrisanov.com/js/abridge.min.js?h=1a12cf684ae4ed40434f" integrity="sha384-ZsreuwU2rKTp7gC4bTf5sYz+3AjMym99XDa/B5wa08fCzLVVX+NDaTsTeyLXseDG"></script>
<noscript>
  <link rel="stylesheet" href="https://akrisanov.com/nojs.css" />
</noscript>
  
  <script>
    (function(){
      try {
        var pref = "";
        if (pref) {
          document.documentElement.classList.add('js');
          document.addEventListener('DOMContentLoaded', function(){
            document.body.classList.add(pref);
          });
        }
      } catch(e){}
    })();
  </script>
</head>
<body>
  <a class="visually-hidden" href="#main-content">Skip to content</a>
  <header>
    <nav>
      <div><h1><a href="https://akrisanov.com" title="Andrey Krisanov"><big>Andrey Krisanov</big></a></h1></div>
      <div>

        <div>
          <ul><li><a class="s95" href="https://akrisanov.com/about/"
                  >
                <i class="fa fa-user" aria-hidden="true"></i>
                <span class="nav-label">About</span>
                
                </a></li><li><a class="s95" href="https://akrisanov.com/archive/"
                  >
                <i class="fa fa-bookmark" aria-hidden="true"></i>
                <span class="nav-label">Posts</span>
                
                </a></li><li><div class="dropdown"><button type="button" class="header-chip header-chip-icon" aria-label="English" title="English"><i class="svgs world" aria-hidden="true"></i><span>English</span></button>
                <div class="dropdown-content">
                <span>English</span><a href="https://akrisanov.com/ru/choosing-kafka/">Русский</a></div>
            </div></li><li>
          <button type="button" id="mode" class="js header-chip header-chip-icon"
            title="Theme"
            aria-label="Theme"><i class="svgs adjust" aria-hidden="true"></i><span>Theme</span></button></ul>
        </div>

        <div>
          <div>
            <form autocomplete=off class="js" name="goSearch" id="searchbox" role="search" aria-label="Search">
              <div class="searchd">
      <input id="searchinput" type="text" placeholder="Search"
        aria-label="Search" title="Search" />
              </div>
              <div class="results" aria-live="polite"><div id="suggestions"></div></div>
            </form>
          </div>
        </div>

      </div>
    </nav>
  </header>
  <main id="main-content">
<article>
<h1><a href="https://akrisanov.com/choosing-kafka/">Choosing Apache Kafka For A New Project – A Questionnaire</a></h1>

<span class="s95" ><span class="post-date">August 29, 2023</span>
  <span class="post-tags"><a
      href="https://akrisanov.com/tags/kafka/">kafka</a><a
      href="https://akrisanov.com/tags/system-design/">system-design</a></span></span>  <p>In any modern project where there is a need to process events – a set of messages or a stream of
data – developers often propose Apache Kafka as the infrastructure solution. This is not always a
weighted choice – where a classic broker like ActiveMQ will do, marketing sometimes prevails.</p>
<p>But let's assume that you have deliberately chosen Kafka, or that the infrastructure team has
left you no alternative. Before setting up broker parameters and writing producers and consumers,
what questions should you ask yourself? To ensure a smooth start, I have prepared the following
checklist:</p>
<ol>
<li>
<p>The amount of data that is going to be generated by the producers →
Will <strong>the network channel</strong> be sufficient for the entire system and its critical components?
Is there an option to make use of <a rel="noopener external" target="_blank" href="https://www.conduktor.io/kafka/kafka-message-compression/">message compression</a>?</p>
</li>
<li>
<p><a rel="noopener external" target="_blank" href="https://strimzi.io/blog/2021/12/17/kafka-segment-retention/"><strong>Data retention policy</strong></a>:
How long do you need to keep data? → Consider the business and data protection requirements of
a product you are developing, and the cost of storing data.</p>
</li>
<li>
<p><strong>Message sending guarantees (<a rel="noopener external" target="_blank" href="https://www.conduktor.io/kafka/kafka-producer-acks-deep-dive/">Acks</a>)</strong> →
Finding the right balance between latency and reliability within replication (durability).</p>
</li>
<li>
<p><strong>Message delivery guarantees</strong> → How critical is message loss or duplication of messages to
the business objective? Are <a rel="noopener external" target="_blank" href="https://www.conduktor.io/kafka/idempotent-kafka-producer/">idempotency</a>
and <a rel="noopener external" target="_blank" href="https://www.confluent.io/blog/transactions-apache-kafka/">transactionality</a> needed?</p>
</li>
<li>
<p><strong>What <a rel="noopener external" target="_blank" href="https://redpanda.com/guides/kafka-tutorial/kafka-partition-strategy">partitioning strategy</a> will producers use?</strong> →
Is the default strategy (<code>Default partitioner</code>) appropriate?</p>
</li>
<li>
<p>For a particular topic, is it important to store the entire message log, or are the latest
changes sufficient → Consider using <a rel="noopener external" target="_blank" href="https://docs.aiven.io/docs/products/kafka/concepts/log-compaction"><strong>Compacted</strong></a>
<strong><a rel="noopener external" target="_blank" href="https://docs.confluent.io/kafka/design/log_compaction.html">topics</a></strong>.</p>
</li>
<li>
<p><strong>Do the created topics require a <a rel="noopener external" target="_blank" href="https://www.conduktor.io/kafka/kafka-consumer-groups-and-consumer-offsets/">consumer group</a>?</strong> →
How do you plan to scale consumers and their bandwidth? What happens when the group is
<a rel="noopener external" target="_blank" href="https://www.verica.io/blog/understanding-kafkas-consumer-group-rebalancing/">rebalanced</a>?</p>
</li>
</ol>
<p>That's it. The checklist/questionnaire is by no means exhaustive and it only covers the essentials.
It leaves out a lot of things such as data encryption, authentication, authorization, and cluster
configuration – assuming that the SRE team or some PAAS will take care of that for you.</p>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var images = document.querySelectorAll("main article img");

      images.forEach(function (img) {
        if (!img.src || img.closest("a")) return;

        var link = document.createElement("a");
        link.href = img.currentSrc || img.src;
        link.className = "image-zoom-link";
        link.target = "_blank";
        link.rel = "noopener noreferrer";
        link.ariaLabel = img.alt ? "Open image: " + img.alt : "Open image";

        img.parentNode.insertBefore(link, img);
        link.appendChild(img);
      });
    });
  </script>
    <nav class="post-nav">
      <div class="post-nav-prev">
        <a href="https://akrisanov.com/understand-how-services-are-run-and-operate-in-production/"><span
            class="np-label">&#8249; Previous</span><span class="np-title">Understand How Services Are Run And Operate In Production</span></a>
      </div>
      <div class="post-nav-next">
        <a href="https://akrisanov.com/it-is-not-dns/"><span class="np-label">Next
            &#8250;</span><span class="np-title">My "It's not DNS" story</span></a>
      </div>
    </nav>
</article>
  </main>
  <footer>
    <div class="c">
<nav class="tpad">
    <div></div>
</nav>
          
      <p class="s90"> © <span id="year">2026</span> Andrey Krisanov • Website content is licensed <a rel="noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p>
      <nav>
          <a class="s90"
            href="https://akrisanov.com/atom.xml"
             target="_blank" rel="noopener noreferrer"
            aria-label=" RSS "
          ><i class="fa fa-rss" aria-hidden="true" title=" RSS "></i></a>
          <a class="s90"
            href="https://akrisanov.com/sitemap.xml"
             target="_blank" rel="noopener noreferrer"
            aria-label=" Sitemap "
          ><i class="fa fa-sitemap" aria-hidden="true" title=" Sitemap "></i></a>
          <a class="s90"
            href="https://www.linkedin.com/in/akrisanov/"
             target="_blank" rel="noopener noreferrer"
            aria-label=" LinkedIn "
          ><i class="fa fa-linkedin" aria-hidden="true" title=" LinkedIn "></i></a>
          <a class="s90"
            href="https://github.com/akrisanov/"
             target="_blank" rel="noopener noreferrer"
            aria-label=" Github "
          ><i class="fa fa-github" aria-hidden="true" title=" Github "></i></a>
      </nav>
    </div>
  </footer>
</body>
</html>
