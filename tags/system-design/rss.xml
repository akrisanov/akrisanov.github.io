<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
      <title>Andrey Krisanov - system-design</title>
      <link>https://akrisanov.com</link>
      <description>Engineering notes and essays on AI infrastructure, large-scale inference systems, and production-grade backend design — from distributed serving and observability to performance tuning and reliability. Written by Andrey Krisanov.</description>
      <generator>Zola</generator>
      <language>en</language>
      <atom:link href="https://akrisanov.com/tags/system-design/rss.xml" rel="self" type="application/rss+xml"/>
      <lastBuildDate>Tue, 29 Aug 2023 00:00:00 +0000</lastBuildDate>
      <item>
          <title>Choosing Apache Kafka For A New Project – A Questionnaire</title>
          <pubDate>Tue, 29 Aug 2023 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://akrisanov.com/choosing-kafka/</link>
          <guid>https://akrisanov.com/choosing-kafka/</guid>
          <description xml:base="https://akrisanov.com/choosing-kafka/">&lt;p&gt;In any modern project where there is a need to process events – a set of messages or a stream of
data – developers often propose Apache Kafka as the infrastructure solution. This is not always a
weighted choice – where a classic broker like ActiveMQ will do, marketing sometimes prevails.&lt;&#x2F;p&gt;
&lt;p&gt;But let&#x27;s assume that you have deliberately chosen Kafka, or that the infrastructure team has
left you no alternative. Before setting up broker parameters and writing producers and consumers,
what questions should you ask yourself? To ensure a smooth start, I have prepared the following
checklist:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The amount of data that is going to be generated by the producers →
Will &lt;strong&gt;the network channel&lt;&#x2F;strong&gt; be sufficient for the entire system and its critical components?
Is there an option to make use of &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.conduktor.io&#x2F;kafka&#x2F;kafka-message-compression&#x2F;&quot;&gt;message compression&lt;&#x2F;a&gt;?&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;strimzi.io&#x2F;blog&#x2F;2021&#x2F;12&#x2F;17&#x2F;kafka-segment-retention&#x2F;&quot;&gt;&lt;strong&gt;Data retention policy&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;:
How long do you need to keep data? → Consider the business and data protection requirements of
a product you are developing, and the cost of storing data.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Message sending guarantees (&lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.conduktor.io&#x2F;kafka&#x2F;kafka-producer-acks-deep-dive&#x2F;&quot;&gt;Acks&lt;&#x2F;a&gt;)&lt;&#x2F;strong&gt; →
Finding the right balance between latency and reliability within replication (durability).&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Message delivery guarantees&lt;&#x2F;strong&gt; → How critical is message loss or duplication of messages to
the business objective? Are &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.conduktor.io&#x2F;kafka&#x2F;idempotent-kafka-producer&#x2F;&quot;&gt;idempotency&lt;&#x2F;a&gt;
and &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.confluent.io&#x2F;blog&#x2F;transactions-apache-kafka&#x2F;&quot;&gt;transactionality&lt;&#x2F;a&gt; needed?&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;What &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;redpanda.com&#x2F;guides&#x2F;kafka-tutorial&#x2F;kafka-partition-strategy&quot;&gt;partitioning strategy&lt;&#x2F;a&gt; will producers use?&lt;&#x2F;strong&gt; →
Is the default strategy (&lt;code&gt;Default partitioner&lt;&#x2F;code&gt;) appropriate?&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;For a particular topic, is it important to store the entire message log, or are the latest
changes sufficient → Consider using &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;docs.aiven.io&#x2F;docs&#x2F;products&#x2F;kafka&#x2F;concepts&#x2F;log-compaction&quot;&gt;&lt;strong&gt;Compacted&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;
&lt;strong&gt;&lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;docs.confluent.io&#x2F;kafka&#x2F;design&#x2F;log_compaction.html&quot;&gt;topics&lt;&#x2F;a&gt;&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Do the created topics require a &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.conduktor.io&#x2F;kafka&#x2F;kafka-consumer-groups-and-consumer-offsets&#x2F;&quot;&gt;consumer group&lt;&#x2F;a&gt;?&lt;&#x2F;strong&gt; →
How do you plan to scale consumers and their bandwidth? What happens when the group is
&lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.verica.io&#x2F;blog&#x2F;understanding-kafkas-consumer-group-rebalancing&#x2F;&quot;&gt;rebalanced&lt;&#x2F;a&gt;?&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;That&#x27;s it. The checklist&#x2F;questionnaire is by no means exhaustive and it only covers the essentials.
It leaves out a lot of things such as data encryption, authentication, authorization, and cluster
configuration – assuming that the SRE team or some PAAS will take care of that for you.&lt;&#x2F;p&gt;
</description>
      </item>
    </channel>
</rss>
