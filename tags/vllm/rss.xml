<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
      <title>Andrey Krisanov - vllm</title>
      <link>https://akrisanov.com</link>
      <description>Engineering notes and essays on AI infrastructure, large-scale inference systems, and production-grade backend design — from distributed serving and observability to performance tuning and reliability. Written by Andrey Krisanov.</description>
      <generator>Zola</generator>
      <language>en</language>
      <atom:link href="https://akrisanov.com/tags/vllm/rss.xml" rel="self" type="application/rss+xml"/>
      <lastBuildDate>Wed, 28 Jan 2026 00:00:00 +0000</lastBuildDate>
      <item>
          <title>vLLM Metrics in Production</title>
          <pubDate>Wed, 28 Jan 2026 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://akrisanov.com/vllm-metrics/</link>
          <guid>https://akrisanov.com/vllm-metrics/</guid>
          <description xml:base="https://akrisanov.com/vllm-metrics/">&lt;h2 id=&quot;why-this-cheat-sheet-exists&quot;&gt;Why this cheat sheet exists&lt;&#x2F;h2&gt;
&lt;p&gt;If you operate vLLM in production, you already know the feeling: the model is &quot;up&quot;, GPUs look busy,
but users complain that the chat is sluggish. Someone suggests &quot;add more GPUs&quot;, someone else says
&quot;the prompts got longer&quot;, and the discussion goes in circles.&lt;&#x2F;p&gt;
&lt;p&gt;The fastest way to stop guessing is to watch a small set of vLLM metrics and interpret them consistently.&lt;&#x2F;p&gt;
&lt;p&gt;This post is a practical playbook for software and AI engineers:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;what each metric &lt;em&gt;really&lt;&#x2F;em&gt; tells you&lt;&#x2F;li&gt;
&lt;li&gt;how to query it in Prometheus&lt;&#x2F;li&gt;
&lt;li&gt;what actions typically fix the problem&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;It&#x27;s intentionally opinionated and optimized for on-call reality.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;how-vllm-metrics-are-named&quot;&gt;How vLLM metrics are named&lt;&#x2F;h2&gt;
&lt;p&gt;vLLM exports Prometheus metrics with the &lt;code&gt;vllm:&lt;&#x2F;code&gt; prefix. When Prometheus scrapes them, the colon becomes an underscore.&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vllm:num_requests_running&lt;&#x2F;code&gt; becomes &lt;code&gt;vllm_num_requests_running&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Also pay attention to &lt;strong&gt;metric types&lt;&#x2F;strong&gt;, because they decide how you query:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Latency&lt;&#x2F;strong&gt; metrics are &lt;strong&gt;histograms&lt;&#x2F;strong&gt; (&lt;code&gt;*_seconds_bucket&lt;&#x2F;code&gt;). You compute percentiles with &lt;code&gt;histogram_quantile()&lt;&#x2F;code&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Throughput&lt;&#x2F;strong&gt; metrics are &lt;strong&gt;counters&lt;&#x2F;strong&gt; (&lt;code&gt;*_total&lt;&#x2F;code&gt;). You compute rates with &lt;code&gt;rate()&lt;&#x2F;code&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;State &#x2F; saturation&lt;&#x2F;strong&gt; metrics are &lt;strong&gt;gauges&lt;&#x2F;strong&gt;. You graph them directly and alert on thresholds.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;One more thing: vLLM shows you what happens &lt;strong&gt;inside the inference engine&lt;&#x2F;strong&gt;. For end-to-end production visibility,
you still need gateway metrics (HTTP status codes, upstream latency, timeouts) and infrastructure metrics
(GPU clocks&#x2F;thermals&#x2F;memory).&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-two-latency-numbers-that-define-user-experience&quot;&gt;The two latency numbers that define user experience&lt;&#x2F;h2&gt;
&lt;p&gt;In practice, you can reduce &quot;LLM feels slow&quot; to two metrics:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;TTFT (Time To First Token)&lt;&#x2F;strong&gt; — how quickly the user sees &lt;em&gt;anything&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Metric: &lt;code&gt;vllm:time_to_first_token_seconds&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Includes queueing + prefill&lt;&#x2F;li&gt;
&lt;li&gt;This is the metric that makes chat feel &quot;snappy&quot; or &quot;dead&quot;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;TPOT (Time Per Output Token)&lt;&#x2F;strong&gt; — how fast text streams once it starts&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Metric: &lt;code&gt;vllm:time_per_output_token_seconds&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Mostly decode phase&lt;&#x2F;li&gt;
&lt;li&gt;This is what users perceive as &quot;typing speed&quot;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;There are also two supporting latency metrics that help you pinpoint the cause:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Queue Time&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:request_queue_time_seconds&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;E2E latency&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:e2e_request_latency_seconds&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;promql-the-percentile-queries-you-ll-actually-use&quot;&gt;PromQL: the percentile queries you&#x27;ll actually use&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;p95-ttft&quot;&gt;P95 TTFT&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;histogram_quantile(&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  0.95,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  sum by (le) (rate(vllm_time_to_first_token_seconds_bucket[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;p99-tpot&quot;&gt;P99 TPOT&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;histogram_quantile(&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  0.99,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  sum by (le) (rate(vllm_time_per_output_token_seconds_bucket[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;p95-queue-time&quot;&gt;P95 Queue Time&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;histogram_quantile(&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  0.95,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  sum by (le) (rate(vllm_request_queue_time_seconds_bucket[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;blockquote&gt;
&lt;p&gt;vLLM reports latencies in &lt;strong&gt;seconds&lt;&#x2F;strong&gt;. If your brain works in milliseconds, just set the Grafana panel unit to &lt;code&gt;Time → milliseconds (ms)&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;the-interpretation-shortcut&quot;&gt;The interpretation shortcut&lt;&#x2F;h3&gt;
&lt;p&gt;This is the fastest diagnostic rule I know:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Queue Time grows, TPOT stays stable&lt;&#x2F;strong&gt; → you&#x27;re short on &lt;em&gt;capacity&lt;&#x2F;em&gt; (not enough vLLM replicas &#x2F; GPU capacity)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;TPOT grows&lt;&#x2F;strong&gt; → generation slowed down (often long contexts, GPU contention, throttling, or overly aggressive concurrency)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Keep that in your head. It prevents most &quot;random tuning&quot;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;throughput-are-we-doing-useful-work&quot;&gt;Throughput: are we doing useful work?&lt;&#x2F;h2&gt;
&lt;p&gt;Latency tells you what users feel. Throughput tells you whether your system is doing real work.&lt;&#x2F;p&gt;
&lt;p&gt;vLLM exposes token counters:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Prompt (input) tokens: &lt;code&gt;vllm:prompt_tokens_total&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Generated (output) tokens: &lt;code&gt;vllm:generation_tokens_total&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;promql&quot;&gt;PromQL&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;input-tokens-per-second&quot;&gt;Input tokens per second&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;sum(rate(vllm_prompt_tokens_total[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;output-tokens-per-second&quot;&gt;Output tokens per second&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;sum(rate(vllm_generation_tokens_total[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;If output tokens&#x2F;s drops while traffic stays similar, you&#x27;re usually looking at &lt;strong&gt;cache pressure&lt;&#x2F;strong&gt;,
&lt;strong&gt;swapping&lt;&#x2F;strong&gt;, or &lt;strong&gt;too much concurrency&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;saturation-concurrency-how-close-are-we-to-the-cliff&quot;&gt;Saturation &amp;amp; concurrency: how close are we to the cliff?&lt;&#x2F;h2&gt;
&lt;p&gt;When a system degrades, it rarely does it politely. For vLLM, the &quot;cliff&quot; is typically KV cache pressure and swapping.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;request-state-scheduler-pressure&quot;&gt;Request state (scheduler pressure)&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Running&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:num_requests_running&lt;&#x2F;code&gt; — requests actively executing on GPU&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Waiting&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:num_requests_waiting&lt;&#x2F;code&gt; — queue size; if it&#x27;s consistently &amp;gt; 0, you&#x27;re operating at&#x2F;above capacity&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Swapped&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:num_requests_swapped&lt;&#x2F;code&gt; — requests evicted to CPU RAM (this is bad)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;If you only alert on one gauge, make it this:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Any swapped requests (&lt;code&gt;num_requests_swapped &amp;gt; 0&lt;&#x2F;code&gt;) should be treated as a production incident.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;kv-cache-pressure-the-silent-killer&quot;&gt;KV cache pressure (the silent killer)&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GPU cache usage&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:gpu_cache_usage_perc&lt;&#x2F;code&gt; (0.0–1.0)
&lt;ul&gt;
&lt;li&gt;Under sustained load, a stable zone is often &lt;strong&gt;0.7–0.9&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;li&gt;If it sits at &lt;strong&gt;1.0&lt;&#x2F;strong&gt;, swapping becomes likely&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;CPU cache usage&lt;&#x2F;strong&gt;: &lt;code&gt;vllm:cpu_cache_usage_perc&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;The reason this matters: once swapping starts, you&#x27;ll see brutal latency spikes because you&#x27;re moving blocks between GPU and CPU.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;errors-why-requests-finish-and-what-abort-usually-means&quot;&gt;Errors: why requests finish (and what &quot;abort&quot; usually means)&lt;&#x2F;h2&gt;
&lt;p&gt;vLLM tracks why requests stop via:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vllm:finished_request_total{finish_reason=&quot;...&quot;}&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Common reasons:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;stop&lt;&#x2F;code&gt; — normal completion (EOS)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;length&lt;&#x2F;code&gt; — hit &lt;code&gt;max_tokens&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;abort&lt;&#x2F;code&gt; — cancelled by user or failed due to an error&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;promql-breakdown-by-finish-reason&quot;&gt;PromQL: breakdown by finish reason&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;sum by (finish_reason) (rate(vllm_finished_request_total[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;What I&#x27;ve seen in production:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Spikes in &lt;code&gt;length&lt;&#x2F;code&gt; often mean your &lt;code&gt;max_tokens&lt;&#x2F;code&gt; default is too low for a real workload&lt;&#x2F;li&gt;
&lt;li&gt;Spikes in &lt;code&gt;abort&lt;&#x2F;code&gt; often correlate with gateway timeouts, client disconnects, or engine-level failures&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;the-golden-signals-dashboard-for-vllm&quot;&gt;The &quot;golden signals&quot; dashboard for vLLM&lt;&#x2F;h2&gt;
&lt;p&gt;If you want one dashboard that&#x27;s worth opening during an incident, build it around these signals:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;P95 TTFT&lt;&#x2F;strong&gt; — responsiveness&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;P99 TPOT&lt;&#x2F;strong&gt; — generation speed stability&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Queue size&lt;&#x2F;strong&gt; (&lt;code&gt;num_requests_waiting&lt;&#x2F;code&gt;) — capacity pressure&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Swapped requests&lt;&#x2F;strong&gt; — must be zero&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;GPU KV cache usage&lt;&#x2F;strong&gt; — predictive saturation&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Token throughput&lt;&#x2F;strong&gt; — real work (input&#x2F;output tokens per second)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;a-practical-grafana-dashboard-json&quot;&gt;A practical Grafana dashboard JSON&lt;&#x2F;h3&gt;
&lt;p&gt;You can import this as a starting point:&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;json&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;  &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;dashboard&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt; null&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vLLM Production Golden Signals&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;tags&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vllm&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;llm&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;inference&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;timezone&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;browser&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;schemaVersion&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 38&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;panels&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;System Saturation (GPU Cache &amp;amp; Swapping)&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;gauge&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;gridPos&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;targets&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vllm_gpu_cache_usage_perc * 100&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;GPU Cache Fill %&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ]&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;fieldConfig&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;          &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;defaults&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;min&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;max&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 100&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;unit&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;percent&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;thresholds&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;              &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;mode&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;absolute&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;              &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;steps&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;color&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;green&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt; null&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;color&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;orange&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 80&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;color&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;red&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 95&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;              ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Active &amp;amp; Waiting Requests&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;timeseries&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;gridPos&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;targets&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vllm_num_requests_running&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Running (Concurrency)&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vllm_num_requests_waiting&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Waiting in Queue&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vllm_num_requests_swapped&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Swapped (Preemption!)&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Latency P95 (TTFT vs TPOT)&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;timeseries&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;gridPos&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;targets&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;histogram_quantile(0.95, sum by (le) (rate(vllm_time_to_first_token_seconds_bucket[5m])))&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;P95 TTFT&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;histogram_quantile(0.95, sum by (le) (rate(vllm_time_per_output_token_seconds_bucket[5m])))&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;P95 TPOT&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ]&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;fieldConfig&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;defaults&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;unit&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Token Throughput&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;timeseries&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;gridPos&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;targets&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;sum(rate(vllm_generation_tokens_total[5m]))&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Output Tokens&#x2F;s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          {&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;expr&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;sum(rate(vllm_prompt_tokens_total[5m]))&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;legendFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Input Tokens&#x2F;s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ]&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;templating&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;      &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;          &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;datasource&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;          &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;datasource&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;          &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;query&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;prometheus&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;          &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;refresh&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #ECCDBB);font-style: italic;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#9A4D00, #EFBA5D);&quot;&gt; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;}&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h2 id=&quot;alerts-that-save-you-before-users-start-complaining&quot;&gt;Alerts that save you before users start complaining&lt;&#x2F;h2&gt;
&lt;p&gt;You don&#x27;t need 30 alerts. You need 5 that are hard to ignore.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;prometheusrule-example&quot;&gt;PrometheusRule example&lt;&#x2F;h3&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color-scheme: light dark; color: light-dark(#1F2328, #DCE6DF); background-color: light-dark(#FAFAF8, #131917);&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;g&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;roups&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; n&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ame&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLM.Alerts&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;  r&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ules&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    -&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;lert&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLMHighTTFT&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      e&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;xpr&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;istogram_quantile(0.95, sum by (le, instance) (rate(vllm_time_to_first_token_seconds_bucket[5m]))) &amp;gt; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; 5&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      l&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;abels&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;everity&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; c&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;ritical&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;nnotations&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ummary&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;High TTFT on instance {{ $labels.instance }}&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        d&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;escription&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;P95 TTFT is {{ $value | printf &lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; }}s. Users see long delays before the first token.&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    -&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;lert&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLMQueueBacklog&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      e&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;xpr&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; h&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;istogram_quantile(0.95, sum by (le, instance) (rate(vllm_request_queue_time_seconds_bucket[5m]))) &amp;gt; 5&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; 2&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      l&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;abels&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;everity&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;arning&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;nnotations&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ummary&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Requests are queuing on {{ $labels.instance }}&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        d&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;escription&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;P95 Queue Time is {{ $value | printf &lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; }}s. Engine cannot keep up.&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    -&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;lert&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLMRequestSwapping&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      e&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;xpr&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;llm_num_requests_swapped &amp;gt; 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; 1&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      l&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;abels&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;everity&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; c&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;ritical&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;nnotations&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ummary&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;vLLM is swapping requests to CPU&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        d&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;escription&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Instance {{ $labels.instance }} has {{ $value }} swapped requests. This indicates severe KV cache pressure and causes latency spikes.&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    -&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;lert&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLMGPUCacheFull&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      e&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;xpr&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;llm_gpu_cache_usage_perc &amp;gt; 0.95&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; 5&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      l&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;abels&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;everity&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; w&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;arning&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;nnotations&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ummary&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;GPU KV Cache is nearly full&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        d&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;escription&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Cache usage on {{ $labels.instance }} is {{ $value | printf &lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; }} (fraction). Expect queueing or swapping soon.&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    -&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt; a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;lert&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; v&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;LLMHighAbortRate&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      e&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;xpr&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#7A2E59, #ECCDBB);&quot;&gt; |&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;        sum by (instance) (rate(vllm_finished_request_total{finish_reason=&amp;quot;abort&amp;quot;}[5m]))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;        &#x2F;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;        sum by (instance) (rate(vllm_finished_request_total[5m])) &amp;gt; 0.1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; 2&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      l&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;abels&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;everity&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; c&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;ritical&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;      a&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;nnotations&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        s&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;ummary&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;High abort rate on {{ $labels.instance }}&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;        d&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0D5F89, #FFFFFF);&quot;&gt;escription&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;Abort ratio &amp;gt; 10% (current: {{ $value | printf &lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;%.2f&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#8A3F21, #EFBA5D);&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt; }}). Investigate client timeouts and engine errors.&lt;&#x2F;span&gt;&lt;span style=&quot;color: light-dark(#0F6F5C, #CCCCCC);&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h2 id=&quot;runbook-metrics-diagnosis-action&quot;&gt;Runbook: metrics → diagnosis → action&lt;&#x2F;h2&gt;
&lt;p&gt;When an alert fires or users complain, here&#x27;s a quick guide to interpret the signals and take action.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;scenario-1-ttft-is-high&quot;&gt;Scenario 1: TTFT is high&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;what-you-see&quot;&gt;What you see&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;P95 TTFT rises&lt;&#x2F;li&gt;
&lt;li&gt;Queue Time rises&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;num_requests_waiting&lt;&#x2F;code&gt; &amp;gt; 0&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-it-usually-means&quot;&gt;What it usually means&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;You&#x27;re under-provisioned for current RPS, &lt;em&gt;or&lt;&#x2F;em&gt; prompts got longer (prefill became expensive).&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-to-do&quot;&gt;What to do&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Scale out (more vLLM replicas &#x2F; GPU nodes)&lt;&#x2F;li&gt;
&lt;li&gt;If scaling is slow: reduce concurrency temporarily to avoid swapping spirals&lt;&#x2F;li&gt;
&lt;li&gt;Consider routing “cheap&#x2F;system” prompts to a smaller model pool&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;scenario-2-tpot-is-high-generation-slowed&quot;&gt;Scenario 2: TPOT is high (generation slowed)&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;what-you-see-1&quot;&gt;What you see&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;P99 TPOT rises&lt;&#x2F;li&gt;
&lt;li&gt;Output tokens&#x2F;s drops&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-it-usually-means-1&quot;&gt;What it usually means&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Longer contexts &#x2F; more decode work, GPU contention, throttling, or too aggressive concurrency.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-to-do-1&quot;&gt;What to do&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Check GPU-level signals (clocks, thermals, power limits, utilization)&lt;&#x2F;li&gt;
&lt;li&gt;Reduce concurrency limits (e.g., &lt;code&gt;max_num_seqs&lt;&#x2F;code&gt;) if decode becomes unstable&lt;&#x2F;li&gt;
&lt;li&gt;Revisit prompt&#x2F;output length distributions; enforce sane &lt;code&gt;max_tokens&lt;&#x2F;code&gt; defaults&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;scenario-3-swapping-detected&quot;&gt;Scenario 3: Swapping detected&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;what-you-see-2&quot;&gt;What you see&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;num_requests_swapped&lt;&#x2F;code&gt; &amp;gt; 0&lt;&#x2F;li&gt;
&lt;li&gt;Latency spikes; throughput collapses&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-it-means&quot;&gt;What it means&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;KV cache doesn’t fit the current working set (too many concurrent contexts).&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-to-do-in-order&quot;&gt;What to do (in order)&lt;&#x2F;h4&gt;
&lt;ol&gt;
&lt;li&gt;Reduce load or concurrency fast (stabilize the system)&lt;&#x2F;li&gt;
&lt;li&gt;Reduce memory pressure (often: reduce &lt;code&gt;max_num_batched_tokens&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Scale out (more replicas &#x2F; more GPU capacity)&lt;&#x2F;li&gt;
&lt;li&gt;Separate model pools and route workloads more carefully&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;scenario-4-abort-rate-spikes&quot;&gt;Scenario 4: Abort rate spikes&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;what-you-see-3&quot;&gt;What you see&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;finish_reason=&quot;abort&quot;&lt;&#x2F;code&gt; rises&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-it-usually-means-2&quot;&gt;What it usually means&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Client disconnects &#x2F; gateway timeouts, or engine-level failures.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;what-to-do-2&quot;&gt;What to do&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Check gateway timeout configs (upstream read timeouts, streaming timeouts)&lt;&#x2F;li&gt;
&lt;li&gt;Inspect vLLM logs for CUDA&#x2F;runtime errors&lt;&#x2F;li&gt;
&lt;li&gt;Correlate abort spikes with queue time spikes (clients often give up)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;final-checklist&quot;&gt;Final checklist&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;One golden signals dashboard&lt;&#x2F;strong&gt;: TTFT, TPOT, queue, swapped, KV cache, tokens&#x2F;s&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Gateway metrics&lt;&#x2F;strong&gt;: HTTP codes, upstream latency, timeouts (otherwise you&#x27;ll misdiagnose aborts)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Five alerts&lt;&#x2F;strong&gt;: high TTFT, backlog, swapping, KV cache near full, abort ratio spike&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;A runbook&lt;&#x2F;strong&gt;: &quot;queue vs TPOT vs swapping&quot; → clear actions&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;If you want one mental model: &lt;strong&gt;queueing means you’re out of capacity; swapping means you’ve crossed the line.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
</description>
      </item>
      <item>
          <title>Why vLLM Scales: Paging the KV-Cache for Faster LLM Inference</title>
          <pubDate>Tue, 27 Jan 2026 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://akrisanov.com/vllm/</link>
          <guid>https://akrisanov.com/vllm/</guid>
          <description xml:base="https://akrisanov.com/vllm/">&lt;p&gt;If you’ve ever tried to serve large language models at scale, you’ve probably hit the same wall:
VRAM runs out much earlier than expected, batching stops scaling, and latency becomes unpredictable.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;vllm.ai&#x2F;&quot;&gt;vLLM&lt;&#x2F;a&gt; exists almost entirely to fix this.&lt;&#x2F;p&gt;
&lt;p&gt;At its core, vLLM is a high-performance LLM inference engine that dramatically improves GPU utilization.
The key idea behind it is &lt;a rel=&quot;noopener external&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2309.06180&quot;&gt;PagedAttention&lt;&#x2F;a&gt; – a different way to manage
the KV-cache that removes most of the memory waste common in traditional LLM serving stacks.&lt;&#x2F;p&gt;
&lt;p&gt;Let’s break down why this is such a big deal.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-core-problem-kv-cache-fragmentation&quot;&gt;The Core Problem: KV-Cache Fragmentation&lt;&#x2F;h2&gt;
&lt;p&gt;In traditional LLM serving systems, the KV-cache (the keys and values representing token context)
must live in a single contiguous block of GPU memory.&lt;&#x2F;p&gt;
&lt;p&gt;There’s a catch: you don’t know in advance how long the model’s answer will be.&lt;&#x2F;p&gt;
&lt;p&gt;So the system plays it safe and reserves memory for the maximum context length – say,
2048 or 4096 tokens – for every request.&lt;&#x2F;p&gt;
&lt;p&gt;The result?&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Large chunks of VRAM are reserved but never used&lt;&#x2F;li&gt;
&lt;li&gt;Memory becomes fragmented&lt;&#x2F;li&gt;
&lt;li&gt;Up to 60–80% of KV-cache memory is effectively wasted&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;That wasted VRAM could have been used to serve more requests in parallel.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;pagedattention-borrowing-an-idea-from-operating-systems&quot;&gt;PagedAttention: Borrowing an Idea from Operating Systems&lt;&#x2F;h2&gt;
&lt;p&gt;PagedAttention takes inspiration from virtual memory and paging in operating systems.&lt;&#x2F;p&gt;
&lt;p&gt;Instead of allocating one big contiguous block per request, it does this:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Split KV-cache into fixed-size blocks.&lt;&#x2F;strong&gt; Each request’s KV-cache is divided into blocks (for example, 16 or 32 tokens per block).&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;No need for physical continuity.&lt;&#x2F;strong&gt; These blocks can live anywhere in VRAM – they don’t have to be next to each other.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Virtual addressing with a Block Table.&lt;&#x2F;strong&gt; vLLM keeps a mapping from logical token order to physical memory blocks on the GPU.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Allocate memory only when needed.&lt;&#x2F;strong&gt; New blocks are allocated only when new tokens are generated – no upfront over-reservation.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;This single change unlocks most of vLLM’s performance gains.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;key-effects-of-paged-kv-cache&quot;&gt;Key Effects of Paged KV-cache&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;almost-no-external-fragmentation&quot;&gt;Almost no external fragmentation&lt;&#x2F;h3&gt;
&lt;p&gt;Because blocks don’t need to be contiguous, free memory can be reused efficiently instead of becoming unusable holes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;minimal-internal-fragmentation&quot;&gt;Minimal internal fragmentation&lt;&#x2F;h3&gt;
&lt;p&gt;Only the last block of a sequence may be partially empty. With reasonable block sizes, memory loss is typically below 4%.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;much-larger-batch-sizes&quot;&gt;Much larger batch sizes&lt;&#x2F;h3&gt;
&lt;p&gt;Better memory efficiency means more concurrent requests per GPU, which is the main driver of performance on modern GPUs.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;massive-throughput-gains&quot;&gt;Massive throughput gains&lt;&#x2F;h3&gt;
&lt;p&gt;In practice, this enables:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;2–4× throughput vs. TGI&lt;&#x2F;li&gt;
&lt;li&gt;Up to ~24× vs. naïve Hugging Face serving setups&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;true-continuous-batching&quot;&gt;True continuous batching&lt;&#x2F;h3&gt;
&lt;p&gt;New requests can be added as soon as finished ones free blocks – no need to wait for a full batch boundary.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;memory-sharing-prefix-prompt-caching&quot;&gt;Memory sharing (prefix &#x2F; prompt caching)&lt;&#x2F;h3&gt;
&lt;p&gt;Multiple requests can point to the same physical blocks for shared prefixes (system prompts, long examples).&lt;&#x2F;p&gt;
&lt;h3 id=&quot;copy-on-write-when-sequences-diverge&quot;&gt;Copy-on-write when sequences diverge&lt;&#x2F;h3&gt;
&lt;p&gt;If you generate multiple completions from the same prompt, new blocks are allocated only when outputs differ.
This can save up to ~55% of KV-cache memory.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;better-ttft-under-load-indirectly&quot;&gt;Better TTFT under load (indirectly)&lt;&#x2F;h3&gt;
&lt;p&gt;PagedAttention doesn’t speed up the first token itself, but higher throughput clears queues faster –
reducing queue time, which users perceive as better TTFT.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;graceful-preemption-and-swapping&quot;&gt;Graceful preemption and swapping&lt;&#x2F;h3&gt;
&lt;p&gt;If VRAM runs low, individual blocks can be swapped to CPU memory instead of crashing the server with OOM.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;no-recomputation&quot;&gt;No recomputation&lt;&#x2F;h3&gt;
&lt;p&gt;Unlike approaches that drop KV-cache under pressure, PagedAttention preserves progress and resumes generation
without re-processing the prompt.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;block-size-a-subtle-but-important-knob&quot;&gt;Block Size: A Subtle but Important Knob&lt;&#x2F;h2&gt;
&lt;p&gt;Block size affects:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Internal fragmentation&lt;&#x2F;li&gt;
&lt;li&gt;Metadata and indexing overhead&lt;&#x2F;li&gt;
&lt;li&gt;Eviction and preemption behavior (if used)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Smaller blocks = better memory efficiency, higher overhead.&lt;&#x2F;p&gt;
&lt;p&gt;Larger blocks = lower overhead, more wasted tail space.&lt;&#x2F;p&gt;
&lt;p&gt;There’s no universal best value – it depends on workload shape.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;a-note-about-prefill-vs-decode&quot;&gt;A Note About Prefill vs Decode&lt;&#x2F;h2&gt;
&lt;p&gt;It’s important to separate these phases:&lt;&#x2F;p&gt;
&lt;h3 id=&quot;prefill&quot;&gt;Prefill&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Often compute- or memory-bound&lt;&#x2F;li&gt;
&lt;li&gt;Cost grows with input sequence length&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;decode&quot;&gt;Decode&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Usually memory-bandwidth-bound&lt;&#x2F;li&gt;
&lt;li&gt;Heavily dependent on KV-cache efficiency and batching&lt;&#x2F;li&gt;
&lt;li&gt;TTFT (Time to First Token) = queue time + prefill latency&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;PagedAttention mainly improves decode throughput.&lt;&#x2F;p&gt;
&lt;p&gt;So if you see this pattern:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;tokens&#x2F;sec ↑&lt;&#x2F;li&gt;
&lt;li&gt;p99 TTFT unchanged (or worse)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;You optimized decode, but you’re still bottlenecked on queueing or prefill.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;why-vllm-became-the-default-choice&quot;&gt;Why vLLM Became the Default Choice&lt;&#x2F;h2&gt;
&lt;p&gt;vLLM didn’t win because of a single micro-optimization.
It won because PagedAttention fundamentally changes how GPU memory is used for LLM serving.&lt;&#x2F;p&gt;
&lt;p&gt;If you care about:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;high throughput&lt;&#x2F;li&gt;
&lt;li&gt;stable latency under load&lt;&#x2F;li&gt;
&lt;li&gt;efficient use of expensive GPUs&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;then understanding vLLM is no longer optional – it’s baseline knowledge for modern LLM infrastructure.&lt;&#x2F;p&gt;
</description>
      </item>
    </channel>
</rss>
